<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5-1</title>
</head>
<body>
    <h1>카운트다운 타이머</h1>

    <section>
        <!-- <p>지금부터 <span id = "timer"></span> 이내에 주문하면 50% 할인!</p> -->

        <h2>도쿄 올림픽까지</h2>
        <p class="timer">남은 시간 <span id = "day"></span>일 <span id = "hour"></span>시간 <span id = "min"></span>분 <span id = "sec"></span>초</p>
    </section>

    <script>
        var countdown = function (due) {
            var now = new Date();

            var rest = due.getTime() - now.getTime();
            var sec = Math.floor(rest / 1000 % 60);
            var min = Math.floor(rest / 1000 / 60) % 60;
            var hours = Math.floor(rest / 1000 / 60 / 60) % 24;
            var days = Math.floor(rest / 1000 / 60 / 60 / 24);
            var count = [days, hours, min, sec];

        return count;
        }

        var goal = new Date(2027, 6, 24);
        // goal.setHours(23);
        // goal.setMinutes(59);
        // goal.setSeconds(59);

        var recalc = function() {
            var counter = countdown(goal);
            // var time = counter[1] + '시간' + counter[2] + '분' + counter[3] + '초';
            // document.getElementById('timer').textContent = time;
            document.getElementById('day').textContent = counter[0];
            document.getElementById('hour').textContent = counter[1];
            document.getElementById('min').textContent = counter[2];
            document.getElementById('sec').textContent = counter[3];
            refresh();
        }

        var refresh = function () {
            setTimeout(recalc, 1000);
        }

        recalc();
        
    </script>
</body>
</html>